<div id="fixed" when-scrolled="loadMore()">
    <ul class="list">
        <li
                ng-repeat="(key,connection) in subConnections = (connections | filterConnections:query:from:offset:this) track by key"
                id="{{ key }}"
                ng-click="select(key)"
                ng-dblclick="connect(connection, key)"
                key="{{ key }}"
                ng-class="{ active: (key === selectedIndex) }"
                ng-style="setHeight()"
                context-menu
                class="panel panel-default position-fixed list-row"
                data-target="menu-{{ uid }}-{{ $index }}"
                ng-class="{ 'highlight': highlight, 'expanded' : expanded }">

            <div class="list-row__primary">
                <i class="icon icon--l host_default_icon"></i>
            </div>
            <div class="list-row__content">
                <span ng-if="connection.label" class="display-block">{{ connection.label }}</span>
                <span ng-if="!connection.label && connection.username"
                      class="display-block">{{ connection.username }}@{{ connection.address }}</span>
                <span ng-if="!connection.label && !connection.username"
                      class="display-block">{{ connection.address }}</span>
                <!--Includes context menu for each cell-->
                <div class="dropdown position-fixed" id="menu-{{ uid }}-{{ $index }}">
                    <ul class="list context-menu host-menu" role="menu">
                        <li class="list-row" ng-click="connect(connection, key)">
                            <div class="list-row__primary">
                                <i class="connect-icon"></i>
                            </div>
                            <div class="list-row__content">
                                Connect
                            </div>
                        </li>
                        <li class="list-row" ng-if="!isHistory(connection)" ng-click="edit(connection)">
                            <div class="list-row__primary">
                                <i class="mdi mdi-pencil"></i>
                            </div>
                            <div class="list-row__content">
                                <span>Edit</span>
                            </div>
                        </li>
                    </ul>
                </div>
                <!--End Includes context menu for each cell-->
            </div>

        </li>
        <li ng-if="!subConnections.length" ng-style="setHeight()" class="panel panel-default position-fixed list-row">
            <div class="list-row__content empty-list">
                <span class="display-block">
                </span>
            </div>
        </li>
        <div class="fab add-buttom">
            <button class="fab__primary btn btn--l btn--blue btn--fab" lx-ripple>
                <i class="mdi mdi-plus"></i>
                <i class="mdi mdi-plus"></i>
            </button>

            <div class="fab__actions fab__actions--left">
                <button class="btn btn--m btn--blue btn--fab" lx-ripple lx-tooltip="Add new group"
                        tooltip-position="top"
                        ng-click="addGroup($event)">
                    <i class="add_new_group"></i>
                </button>
                <button class="btn btn--m btn--blue btn--fab" lx-ripple lx-tooltip="Add new host"
                        tooltip-position="top"
                        ng-click="addConnection($event)">
                    <i class="add_new_host"></i>
                </button>
            </div>
        </div>

    </ul>
</div>
<div class="scroller" ng-if="filteredConnections.length > amount">
    <div class="sizer" ng-style="setSizerHeight()"></div>
    <div class="slider" ng-style="setSliderHeight()"></div>
</div>
