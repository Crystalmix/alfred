<div id="{{uid}}" class="alfred-widget" ng-click="setFocusAtInput()">
    <div class="alfred">
        <md-toolbar>
            <div class="tollbar-container">
                <div class="head-toolbar">
                    <div class="alfred-input">
                        <lx-text-field label={{placeholder}} fixed-label="true">
                            <input type="text"
                                   ng-model="query"
                                   ng-keydown="keydown($event)">
                        </lx-text-field>
                    </div>

                    <!--<md-input-container class="alfred-input">-->
                    <!--<label>{{placeholder}}</label>-->
                    <!--<input type="text"-->
                    <!--class="form-control input-lg input"-->
                    <!--ng-model="query"-->
                    <!--ng-keydown="keydown($event)"/>-->
                    <!--</md-input-container>-->
                    <!--<input type="text"-->
                    <!--id="alfred-input"-->
                    <!--class="form-control input-lg input"-->
                    <!--ng-model="query"-->
                    <!--ng-keydown="keydown($event)"-->
                    <!--placeholder="{{placeholder}}"/>-->

                    <lx-dropdown class="menu-toolbar" position="right" width="200">
                        <button class="btn btn--m btn--icon history-menu" lx-ripple lx-dropdown-toggle>
                            <i class="mdi mdi-menu"></i>
                        </button>

                        <lx-dropdown-menu>
                            <ul>
                                <li ng-if="isLeftActive"><a class="dropdown-link" ng-click="changeActiveList()">Go to
                                    activities</a></li>
                                <li ng-if="isRightActive"><a class="dropdown-link" ng-click="changeActiveList()">Go to
                                    hosts</a></li>
                                <li><a class="dropdown-link">Add new group</a></li>
                                <li><a class="dropdown-link">Add new host</a></li>
                            </ul>
                        </lx-dropdown-menu>
                    </lx-dropdown>
                </div>

                <!--Here there is group template-->
                <div ng-if="isLeftActive" class="head-groups">
                    <div class="parent-group">
                        <ul>
                            <li>
                                <a><i class="mdi mdi-folder"></i></a>
                            </li>
                            <li ng-repeat="group in path_groups" class="parent-group-list">
                                <i class="mdi mdi-chevron-right"></i>
                                {{group.label}}
                            </li>
                        </ul>
                    </div>
                    <div class="tags">
                        <lx-dropdown class="tag-toolbar" position="right" ng-if="tags.length==0">
                            <button class="btn btn--m btn--icon" lx-ripple lx-dropdown-toggle>
                                <i class="mdi mdi-tag"></i>
                            </button>

                            <lx-dropdown-menu>
                                <ul>
                                    <li ng-repeat="tag in tags">
                                        <a class="dropdown-link">{{tag.label}}</a>
                                    </li>
                                </ul>
                            </lx-dropdown-menu>
                        </lx-dropdown>

                        <ul ng-if="tags.length!=0">
                            <li ng-repeat="tag in tags">
                                <md-button>{{tag.label}}</md-button>
                            </li>
                        </ul>
                    </div>
                </div>

                <div ng-if="isLeftActive" class="bottom-group">
                    <div class="children-group">
                        <ul>
                            <li ng-repeat="group in children_group">
                                <!--<md-button class="md-raised">Button</md-button>-->
                                <button class="btn btn--l btn--white btn--raised" lx-ripple>{{group.label}}</button>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--End Here there is group template-->
            </div>
        </md-toolbar>


        <md-content class="shadow-box">

            <div ng-if="connections.length || histories.length">

                <div ng-if="isTable" class="table">
                    <div id="left" ng-class="{ active: isLeftActive }" ng-if="isLeftActive">
                        <!--<div class="header">-->
                        <!--<span>Hosts</span>-->
                        <!--<a type="button" ng-click="addConnection()"><span-->
                        <!--class="add glyphicon glyphicon-plus"></span></a>-->
                        <!--<i class="pull-right" ng-if="isLeftActive">-->
                        <!--<a type="button"><span class="glyphicon glyphicon-arrow-left"></span></a>-->
                        <!--</i>-->
                        <!--</div>-->

                        <div class="left-list" ng-if="isLeftActive">
                            <active-list connections="connections"
                                         amount="amount"
                                         height-cell="heightCell"
                                         query="query"
                                         from="fromConnection"
                                         selected-index="selectedIndex"
                                         rest="restOfConnections"
                                         cmd-system-hotkey="cmdSystemHotkey">
                            </active-list>
                        </div>
                        <div class="left-list" ng-if="isRightActive">
                            <inactive-list connections="connections"
                                           amount="amount"
                                           height-cell="heightCell"
                                           from="fromConnection"
                                           rest="restOfConnections">
                            </inactive-list>
                        </div>
                    </div>

                    <div id="right" ng-class="{ active: isRightActive }" ng-if="isRightActive">
                        <!--<div class="header">-->
                        <!--<span>History</span>-->
                        <!--<i class="pull-right" ng-if="isRightActive">-->
                        <!--<a type="button"><span class="glyphicon glyphicon-arrow-right"></span></a>-->
                        <!--</i>-->
                        <!--</div>-->
                        <div class="left-list" ng-if="isLeftActive">
                            <inactive-list connections="histories"
                                           amount="amount"
                                           height-cell="heightCell"
                                           from="fromHistory"
                                           rest="restOfHistories">
                            </inactive-list>
                        </div>
                        <div class="left-list" ng-if="isRightActive">
                            <active-list connections="histories"
                                         amount="amount"
                                         height-cell="heightCell"
                                         query="query"
                                         from="fromHistory"
                                         selected-index="selectedIndex"
                                         rest="restOfHistories"
                                         cmd-system-hotkey="cmdSystemHotkey">
                            </active-list>
                        </div>
                    </div>
                </div>

                <div ng-if="!isTable">
                    <div class="main-list">
                        <active-list connections="entities"
                                     amount="amount"
                                     height-cell="heightCell"
                                     query="query"
                                     from="fromConnection"
                                     selected-index="selectedIndex"
                                     cmd-system-hotkey="cmdSystemHotkey">
                        </active-list>
                    </div>
                </div>

            </div>
        </md-content>
    </div>
</div>
